<div class="row-item">

  <div class="row mb-1">
    <div class="col-md">
      <b>{{readableDateTimestamp(scheduledJob.startTime)}}</b>
      <br>
      <span class="text-muted">({{readableDuration(scheduledJob.startTime)}})</span>
    </div>
    <div class="col">
      <h6>{{scheduledJob.task.name}}</h6>
    </div>
    <div class="col" *ngIf="getSensorFromId(scheduledJob.task.targetSensorId) as sensor">
      Set <b>{{sensor.name}}</b> to <b>{{getSensorValueFromId(scheduledJob.task.targetSensorValue)}}</b>
    </div>
    <div class="col" *ngIf="getSensorFromId(scheduledJob.task.triggerSensorId) as sensor else maxTime">
      Until
      <b>{{sensor.name}}</b> reads <b>{{getSensorValueFromId(scheduledJob.task.triggerSensorValue)}}</b>
      <br> or for <b>{{readableDurationLength(scheduledJob.startTime,scheduledJob.maximumEndTime)}}</b>
    </div>
    <ng-template #maxTime>
      <div class="col">
        Until
        <b>{{readableDurationLength(scheduledJob.startTime,scheduledJob.maximumEndTime)}}</b>
      </div>
    </ng-template>
    <div class="col">
      Job Status: <b>{{getStatusFromJob(scheduledJob)}}</b>
      <br>
      Est. End Time: <b>{{readableTimestamp(scheduledJob.maximumEndTime)}}</b>
    </div>
    <div class='col operations'>
      <button (click)="clickPerformScheduledJob(scheduledJob)" class="btn btn-secondary mr-1"
        *ngIf="!isJobRunning(scheduledJob)">Perform</button>
      <button *ngIf="isJobCancelable(scheduledJob)" (click)="clickStopScheduledJob(scheduledJob)" class="btn btn-link text-danger">
        <fa-icon size="lg" [icon]="faMinusCircle"></fa-icon>
      </button>
    </div>
  </div>
</div>